#!/bin/bash
olib="/home/user/.opam/4.05.0/lib"
flib="/home/user/FStar/bin/fstarlib"
obj="obj"
modules=()
modules+=("$olib/zarith/zarith.cmxa")
modules+=("$olib/ppx_deriving/runtime/ppx_deriving_runtime.cmxa")
modules+=("$olib/ppx_deriving_yojson/runtime/ppx_deriving_yojson_runtime.cmxa")
modules+=("$olib/ocaml/nums.cmxa")
modules+=("$olib/batteries/batteries.cmxa")
modules+=("$olib/stdint/stdint.cmxa")
modules+=("$flib/fstarlib.cmxa")
modules+=("$obj/Words_s.cmx")
modules+=("$obj/Words_Two_s.cmx")
modules+=("$obj/Words_Four_s.cmx")
modules+=("$obj/Types_s.cmx")
modules+=("$obj/Vale_Def_PossiblyMonad.cmx")
modules+=("$obj/PPC64LE_Machine_s.cmx")
modules+=("$obj/PPC64LE_Semantics_s.cmx")
modules+=("$obj/PPC64LE_Print_s.cmx")
modules+=("$obj/PPC64LE_Vale_State.cmx")
modules+=("$obj/PPC64LE_Vale_Lemmas.cmx")
modules+=("$obj/PPC64LE_Vale_Decls.cmx")
modules+=("$obj/PPC64LE_Vale_InsBasic.cmx")
modules+=("$obj/PPC64LE_Vale_InsMem.cmx")
modules+=("$obj/PPC64LE_Vale_InsVector.cmx")
modules+=("$obj/PPC64LE_Test_Memcpy.cmx")
modules+=("$obj/PPC64LE_Test_Ins.cmx")
modules+=("$obj/PPC64LE_Test_Vec.cmx")
OCAMLPATH="$FSTAR_HOME/bin" ocamlfind opt -package fstarlib -g -I obj -o test/PowerTst.exe "${modules[@]}" test/PowerTst.ml
